Valentin Ivanov  cs2180001
Manousos Torakis cs2180016

Έχουμε υλοποιήση την εργασία με χρήση Java EE + SpringBoot.
Χρησιμοποιούμε PostgreSQL όπως προτείνετε.

Για το Import αρχικά πήραμε και βάλαμε σε dummy πίνακες τα αρχεία όπως είναι. Εέπειτα με σκριπτάκι μεταφέρουμε τα δεδομέμνα στος πραγματικούς πίνακες που χρησιμοποιούμε στην εφαρμογή μας.

Για να οργανώσουμε το σχήμα της βάσης πήραμε ολα τα κοινα στοιχεία των ξεχωριστών πινάκων και έτσι φτιάξαμε εναν πίνακα incident.
Αυτός είναι ο γενικός πίνακας που περιγράφει ένα περιστατικό/incident.
Έπειτα μέσα σε αυτόν έχουμε παραπάνω ενα Enum το οποίο περιγράφει τον τύπο του incident, που είναι ενα απο τα 11 διαφορετικά reported incidents ου περιγράφονται στην εκφώνηση.

Για κάθε ένα ξεχωριστό είδος incident έχουμε επιπλέον δικό του πίνακα ο οποίος έχει ενα foreign key incident_id το οποίο δείχει στο "γενικο" περιστατικό.

Τα ερωτήματα stored procedures που ζητάει η εκφώνηση τα έχουμε υλοποιήσει ως functions και τα καλούμε με τον τρόπο που προτείνει το documentation της postgre:
"select * from function(args...)".

Φτιάχνουμε όλη την ιεραρχεία η οποία είναι συνηθισμένη στις Java EE & Spring εφαρμογές. Αυτες οι κλάσεις είναι Entities, Reopositories, Services and Controllers.
Χρησιμοποιούμε Rest επικοινωνία μέσω Rest Endpoints τα οποία βρίσκονται στους διαφρετικούς controllers.


Η εφαμοργή μας έχει registration form και φτιαχνει χρήστες. Για να κρατήσουμε τα passwords τα κρυπτογραφούμε πρώτα και μετά μπάινουν στην βάση. Για ασφαλή επικοινωνία έχουμε JavaWebTokens (JWT). Το Spring παρέχει ευκολο τρόπο να χρησιμοποιήσεις έναν χρήστη και παρέχεις SSO(Single sign-on) υπηρεσίες.
Έτσι έχουμε ασφαλή εφαρμογή και οι μη εγγεγραμένοι χρήστες δεν μπορούν να έχουν πρόσβαση στην εφαρμογή.

Για το logging που ζητατε έχουμε φτιάξει εναν ακομα πίνκαα στην βάση. Αυτος είανι ο Audit στον οποίον καταγράφονται οι ενέργειες των χρηστών.  Έτσι κάθε φορά που ένας χρήστης κάνει ενα ερώτημα (query) την εφαρμογή το καταγράφουμε για να έχουμε το ιστορικό των ερωτημάτων.
Ο πίνακας Audit έχει foreign key τον πίνακα User για να αντιπροσωπέυει την σχέση μεταξύ και ερωτημάτων.

Παρακάτω φαίνονται οι σχέσεις μεταξύ τους.


Indexes έχουμε βάλει στις κολόνες στις οποίες γίνεται συχνά αναζήτηση. Αυτές είναι: creation_date, service_request_type....